<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>MEDU Case Vault</title>
  <style>
    /* ----------------- VARIABLES ----------------- */
    :root {
      --blue: #2a4f6d;
      --light-blue: #4a90e2;
      --cyan: #00bcd4;
      --blue-dark: #1a2e3d;
      --white: #f1faff;
      --gray: #cbd5e1;
      --bg: #f4faff;
      --shadow: rgba(0,0,0,0.2);
      --transition: 0.3s ease;
    }
    [data-theme="dark"] {
      --bg: #0f171f;
      --white: #d3e0ea;
      --gray: #526674;
      --shadow: rgba(0,0,0,0.7);
    }

    /* ----------------- RESET ----------------- */
    * { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--blue-dark);
      transition: background var(--transition), color var(--transition);
      line-height: 1.5;
    }
    img { max-width:100%; display:block; }

    /* ----------------- NAVBAR ----------------- */
    nav {
      position: sticky;
      top: 0;
      background: var(--blue);
      padding: 0.5em 1em;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 4px var(--shadow);
      z-index: 1000;
    }
    .logo { font-size: 1.3em; color: var(--white); font-weight: 600; }
    nav ul {
      list-style: none;
      display: flex;
      gap: 1em;
    }
    nav li.hidden { display:none; }
    nav a {
      color: var(--white);
      padding: 0.5em;
      text-decoration: none;
      transition: background var(--transition);
      border-radius: 4px;
    }
    nav a:hover, nav a:focus {
      background: var(--cyan);
    }

    /* ----------------- THEME TOGGLE ----------------- */
    .theme-toggle {
      background: var(--cyan);
      border: none;
      padding: 0.5em 0.8em;
      border-radius: 4px;
      color: var(--blue-dark);
      transition: background var(--transition);
      font-size: 1em;
    }
    .theme-toggle:hover {
      background: var(--light-blue);
    }

    /* ----------------- HERO SECTION ----------------- */
    .hero {
      height: 80vh;
      background: linear-gradient(to bottom, var(--blue), var(--cyan));
      color: var(--white);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2em 1em;
    }
    .hero h1 {
      font-size: 3.2em;
      margin-bottom: 0.2em;
      text-shadow: 0 2px 4px rgba(0,0,0,0.4);
    }
    .hero p.subtitle {
      font-size: 1.2em;
      margin-bottom: 0.5em;
      letter-spacing: 0.5px;
    }
    .hero p.author {
      font-size: 0.9em;
      opacity: 0.8;
    }
    .hero button#enterVault {
      background: var(--white);
      border: none;
      color: var(--blue-dark);
      padding: 1em 1.8em;
      font-size: 1.05em;
      border-radius: 5px;
      margin-top: 1em;
      transition: transform var(--transition), box-shadow var(--transition);
      box-shadow: 0 3px 6px rgba(0,0,0,0.3);
    }
    .hero button#enterVault:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
    }

    /* ----------------- CONTENT WRAPPER ----------------- */
    .content {
      max-width: 1100px;
      margin: 2em auto;
      padding: 0 1em;
    }
    section {
      margin-bottom: 3em;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s forwards;
    }
    section:nth-child(odd) { animation-delay: 0.2s; }
    section:nth-child(even) { animation-delay: 0.4s; }
    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }

    section h2 {
      font-size: 1.8em;
      color: var(--blue);
      margin-bottom: 0.5em;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }
    section p.intro {
      font-size: 1.05em;
      margin-bottom: 1em;
      color: var(--blue-dark);
    }

    /* ----------------- GAMES GRID ----------------- */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px,1fr));
      gap: 1.2em;
    }
    .game-card {
      background: var(--white);
      padding: 1.5em;
      border-radius: 8px;
      box-shadow: 0 4px 10px var(--shadow);
      text-align: center;
      transition: transform var(--transition), box-shadow var(--transition);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.8em;
    }
    .game-card:hover, .game-card:focus {
      transform: translateY(-6px);
      box-shadow: 0 8px 16px var(--shadow);
    }
    .game-card span.icon {
      font-size: 2.2em;
    }
    .game-card h3 { margin: 0.5em 0 0.3em; }
    .game-card p {
      font-size: 0.95em;
      opacity: 0.85;
    }

    /* ----------------- LOCKED PANEL ----------------- */
    .locker {
      background: var(--gray);
      color: #555;
      padding: 2em;
      text-align: center;
      border-radius: 8px;
      box-shadow: 0 4px 8px var(--shadow);
      font-style: italic;
    }

    /* ----------------- ANATOMY EXPLORER ----------------- */
    .anatomy-map {
      position: relative;
      max-width: 600px;
      margin: 1em auto;
    }
    .anatomy-map rect, .anatomy-map circle, .anatomy-map path {
      fill: var(--light-blue);
      cursor: pointer;
      transition: fill var(--transition);
    }
    .anatomy-map rect:hover {
      fill: var(--cyan);
    }

    /* ----------------- EVIDENCE SCANNER ----------------- */
    .scanner-box {
      border: 2px dashed var(--gray);
      border-radius: 8px;
      padding: 2em;
      text-align: center;
      background: var(--white);
      box-shadow: 0 4px 10px var(--shadow);
      position: relative;
      cursor: pointer;
    }
    .scanner-box:hover {
      background: var(--blue-dark); color: var(--white);
    }

    /* ----------------- REPORT AREA ----------------- */
    #reportArea > div {
      background: var(--white);
      padding: 1em;
      border-radius: 8px;
      box-shadow: 0 4px 8px var(--shadow);
      margin-top: 1em;
    }

    /* ----------------- LEADERBOARD ----------------- */
    .leaderboard {
      overflow-x: auto;
      margin-top: 1em;
    }
    .leaderboard table {
      width: 100%;
      border-collapse: collapse;
      background: var(--white);
      box-shadow: 0 4px 8px var(--shadow);
    }
    .leaderboard th, .leaderboard td {
      padding: 0.9em 1em;
      border-bottom: 1px solid var(--gray);
      text-align: center;
    }
    .leaderboard th {
      background: var(--blue);
      color: var(--white);
    }
    .rank-bronze { background: #cd7f32; color: #fff; }
    .rank-silver { background: #c0c0c0; color: #fff; }
    .rank-gold { background: #ffd700; color: #333; }
    .rank-platinum { background: #e5e4e2; color: #333; }

    /* ----------------- ADMIN TOOLS ----------------- */
    .admin-panel {
      background: var(--white);
      padding: 1.5em;
      border-radius: 8px;
      box-shadow: 0 4px 8px var(--shadow);
    }
    .admin-panel form {
      display: flex;
      flex-direction: column;
      gap: 0.8em;
    }
    .admin-panel label { font-weight: 600; }
    .admin-panel input, .admin-panel select, .admin-panel button {
      padding: 0.6em;
      border: 1px solid var(--gray);
      border-radius:4px;
    }
    .admin-panel button {
      background: var(--cyan);
      border: none;
      color: var(--white);
      font-weight: 600;
      transition: background var(--transition);
    }
    .admin-panel button:hover {
      background: var(--light-blue);
    }

    /* ----------------- ARCHIVES / TIMELINE ----------------- */
    .timeline {
      border-left: 3px solid var(--blue);
      margin-left: 1em;
      padding-left: 1em;
    }
    .timeline div.entry {
      margin-bottom: 1.2em;
      position: relative;
    }
    .timeline div.entry::before {
      content:'';
      position: absolute;
      left: -8px; top:5px;
      width: 12px; height:12px;
      background: var(--cyan);
      border-radius:50%;
    }
    .timeline div.entry h4 {
      margin-bottom:0.3em;
    }

    /* ----------------- FOOTER ----------------- */
    footer {
      padding: 2em 1em;
      text-align: center;
      font-size:0.9em;
      color: var(--gray);
      border-top: 1px solid var(--gray);
      background: var(--white);
    }

    /* ----------------- MODAL ----------------- */
    .modal-bg {
      position: fixed;
      top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.6);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:2000;
    }
    .modal {
      background: var(--white);
      padding: 2em;
      border-radius:8px;
      box-shadow:0 4px 12px var(--shadow);
      max-width: 400px;
      width: 90%;
      position: relative;
      overflow-y: auto;
      max-height: 80vh;
    }
    .modal h4 { margin-bottom:0.5em; }
    .modal p { margin-bottom:1em; }
    .modal button.close {
      position: absolute;
      top:0.6em; right:0.6em;
      background:none;
      border:none;
      font-size:1.2em;
      cursor:pointer;
      color: var(--gray);
    }

    /* ----------------- RESPONSIVE RULES ----------------- */
    @media(max-width: 900px) {
      .games-grid { grid-template-columns:repeat(auto-fit, minmax(200px,1fr)); }
    }
    @media(max-width: 600px){
      nav ul { flex-wrap: wrap; gap:0.5em; justify-content:center; }
      .hero h1 { font-size:2.5em; }
      section h2 { font-size:1.6em; }
    }
  </style>
</head>
<body>

  <!-- NAVIGATION -->
  <nav>
    <div class="logo">MEDU Case Vault</div>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#games">Games</a></li>
      <li><a href="#shadow">Shadow Cases</a></li>
      <li><a href="#anatomy">Anatomy Explorer</a></li>
      <li><a href="#scanner">Evidence Scanner</a></li>
      <li><a href="#report">Report Generator</a></li>
      <li><a href="#leaderboard">Leaderboard</a></li>
      <li><a href="#archives">Archives</a></li>
      <li class="hidden" id="admin-tools"><a href="#admin">Admin Tools</a></li>
      <li><a href="#about">About</a></li>
    </ul>
    <button class="theme-toggle" id="themeToggle">🌙</button>
  </nav>

  <!-- HERO -->
  <section class="hero" id="home">
    <h1>MEDU Case Vault</h1>
    <p class="subtitle">Where Medicine Meets Mystery</p>
    <p class="author">Luna.C.Everly | Medical Education Overseer</p>
    <button id="enterVault">Enter Vault</button>
  </section>

  <div class="content">

    <!-- INTERACTIVE GAMES -->
    <section id="games">
      <h2>🕹️ Interactive Games</h2>
      <p class="intro">Choose your challenge—each designed to train clinical reasoning and decision-making in immersive scenarios.</p>
      <div class="games-grid">
        <div class="game-card" tabIndex="0" data-game="duel">
          <span class="icon">🧠</span><h3>Diagnosis Duel</h3>
          <p>Face another trainee in a timed diagnostic showdown. Who will see the hidden disease first?</p>
        </div>
        <div class="game-card" tabIndex="0" data-game="escape">
          <span class="icon">🚨</span><h3>ER Escape Room</h3>
          <p>Navigate through an ER crisis—stabilize patients before time runs out.</p>
        </div>
        <div class="game-card" tabIndex="0" data-game="anatomy">
          <span class="icon">🧪</span><h3>Anatomy Puzzle Match</h3>
          <p>Match organ names and structures before the timer ends—learn while you play.</p>
        </div>
        <div class="game-card" tabIndex="0" data-game="creator">
          <span class="icon">📄</span><h3>Case Creator Game</h3>
          <p>Design your own clinical case—then share and solve with peers.</p>
        </div>
      </div>
    </section>

    <!-- SHADOW CASES -->
    <section id="shadow">
      <h2>🔒 Shadow Cases</h2>
      <p class="intro">Highly confidential cases—access requires clearance.</p>
      <div class="locker">
        Access Redacted.  
        Progress through games to unlock shadow archive.
      </div>
    </section>

    <!-- ANATOMY EXPLORER -->
    <section id="anatomy">
      <h2>🧬 Anatomy Explorer</h2>
      <p class="intro">Hover over organs to explore details and past relevant cases.</p>
      <div class="anatomy-map">
        <!-- Simple SVG block placeholder -->
        <svg width="100%" height="250">
          <rect x="60" y="40" width="120" height="120" rx="15" ry="15"
                data-org="heart" />
          <text x="120" y="110" text-anchor="middle" fill="#fff">Heart</text>
        </svg>
        <p style="text-align:center; opacity:0.7;">Heart region — click to learn more.</p>
      </div>
    </section>

    <!-- EVIDENCE SCANNER -->
    <section id="scanner">
      <h2>🖼️ Evidence Scanner</h2>
      <p class="intro">Drag-and-drop scan simulation below to get a quick analysis.</p>
      <div class="scanner-box" id="scannerBox">
        Drag & drop file here<br><em>(simulation)</em>
      </div>
      <button id="fakeScan" style="margin-top:1em;">Scan Evidence</button>
      <p id="scanResult" style="margin-top:0.6em; font-weight:600;"></p>
    </section>

    <!-- CASE REPORT GENERATOR -->
    <section id="report">
      <h2>📑 Case Report Generator</h2>
      <p class="intro">Generate your case completion report below.</p>
      <button id="genReport">Generate Report</button>
      <div id="reportArea"></div>
    </section>

    <!-- LEADERBOARD -->
    <section id="leaderboard">
      <h2>🏅 Leaderboard</h2>
      <p class="intro">Track your progress and compare with peers across tiers.</p>
      <div class="leaderboard">
        <table>
          <thead>
            <tr><th>Rank</th><th>Trainee</th><th>Cases Solved</th></tr>
          </thead>
          <tbody>
            <tr><td class="rank-bronze">Bronze Medic</td><td>Alice</td><td>5</td></tr>
            <tr><td class="rank-silver">Silver Medic</td><td>Bob</td><td>12</td></tr>
            <tr><td class="rank-gold">Gold Medic</td><td>Charlie</td><td>25</td></tr>
            <tr><td class="rank-platinum">Platinum Medic</td><td>Diana</td><td>40</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ADMIN TOOLS (Hidden) -->
    <section id="admin">
      <h2>🛠️ Admin Tools</h2>
      <p class="intro">Administrative panel to manage cases and stats.</p>
      <div class="locker" id="adminLocker">🔐 Admin access required. Append <code>?admin=true</code> to URL.</div>
      <div class="admin-panel" id="adminPanel" style="display:none;">
        <form id="caseForm">
          <label>Case Title:</label><input type="text" id="caseTitle" placeholder="e.g., Mr. Smith — Chest Pain">
          <label>Difficulty:</label>
          <select id="caseDiff">
            <option>Easy</option><option>Medium</option><option>Hard</option>
          </select>
          <label>Status:</label>
          <select id="caseStatus">
            <option>Open</option><option>Solved</option><option>Archived</option>
          </select>
          <button type="button" id="submitCase">Submit Case</button>
        </form>
      </div>
    </section>

    <!-- ARCHIVES / TIMELINE -->
    <section id="archives">
      <h2>📜 Archives</h2>
      <p class="intro">A historical ledger of MEDU’s journey.</p>
      <div class="timeline">
        <div class="entry"><h4>2024 – Launch of Diagnosis Duel</h4><p>The first interactive case duel released to public testing.</p></div>
        <div class="entry"><h4>Early 2025 – ER Escape Room Released</h4><p>A high-stress ER simulation challenge introduced.</p></div>
        <div class="entry"><h4>Mid 2025 – Anatomy Puzzle & Case Creator Added</h4><p>These complete the core suite of simulations.</p></div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <h2>ℹ️ About</h2>
      <p class="intro">The MEDU Case Vault is an educational, gamified clinical simulation crafted for SWM’s Medical Education Department. Designed and overseen by <strong>Luna.C.Everly</strong>, it aims to make learning clinical reasoning immersive and engaging. Built with modern HTML5, CSS3, and vanilla JS—for GitHub Pages deployment.</p>
    </section>

  </div>

  <footer>© 2025 SWM | Medical Education Department</footer>

  <!-- GAME MODAL -->
  <div class="modal-bg" id="gameModal">
    <div class="modal">
      <button class="close" id="modalClose">✖</button>
      <h4 id="modalTitle">Game Title</h4>
      <p id="modalDesc">Description goes here.</p>
      <button id="startGame">Start</button>
    </div>
  </div>

  <script>
    // ---------- THEME SWITCHER ----------
    const themeBtn = document.getElementById('themeToggle');
    themeBtn.onclick = () => {
      let mode = document.documentElement.getAttribute('data-theme');
      document.documentElement.setAttribute('data-theme', mode === 'dark' ? '' : 'dark');
      themeBtn.textContent = themeBtn.textContent === '🌙' ? '☀️' : '🌙';
    };

    // ---------- SCROLL TO CONTENT ----------
    document.getElementById('enterVault').onclick = () => {
      const y = document.querySelector('.content').offsetTop - 60;
      window.scrollTo({ top: y, behavior: 'smooth' });
    };

    // ---------- GAME MODAL HANDLING ----------
    const modalBg = document.getElementById('gameModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    document.querySelectorAll('.game-card').forEach(card => {
      card.onclick = () => {
        modalTitle.textContent = card.querySelector('h3').textContent;
        modalDesc.textContent = card.querySelector('p').textContent;
        modalBg.style.display = 'flex';
      };
    });
    document.getElementById('modalClose').onclick = () => { modalBg.style.display = 'none'; };

    // ---------- EVIDENCE SCANNER SIM ----------
    document.getElementById('fakeScan').onclick = () => {
      setTimeout(() => {
        document.getElementById('scanResult').textContent = 'File scanned. 🩺 Suggestion: Possible pneumonia.';
      }, 500);
    };

    // ---------- CASE REPORT GENERATOR ----------
    document.getElementById('genReport').onclick = () => {
      const now = new Date().toLocaleString();
      document.getElementById('reportArea').innerHTML = `
        <div>
          <h4>Case Report</h4>
          <p><strong>User:</strong> TraineeX</p>
          <p><strong>Badge:</strong> Gold Medic</p>
          <p><strong>Cases Solved:</strong> 18</p>
          <p><strong>Timestamp:</strong> ${now}</p>
          <button onclick="this.parentElement.remove()">Dismiss</button>
        </div>`;
    };

    // ---------- ADMIN PANEL TOGGLE ----------
    if (new URLSearchParams(window.location.search).get('admin') === 'true') {
      document.getElementById('admin-tools').classList.remove('hidden');
      document.getElementById('adminLocker').style.display = 'none';
      document.getElementById('adminPanel').style.display = 'block';
    }

    // ---------- ANATOMY ORGAN HOVER MODAL ----------
    const anatomySVG = document.querySelector('.anatomy-map svg');
    anatomySVG.addEventListener('click', (e) => {
      if (e.target.dataset.org) {
        const org = e.target.dataset.org;
        modalTitle.textContent = org.charAt(0).toUpperCase() + org.slice(1) + ' Info';
        modalDesc.textContent = `Detailed info about ${org} (placeholder).`;
        modalBg.style.display = 'flex';
      }
    });
  </script>

</body>
</html>
